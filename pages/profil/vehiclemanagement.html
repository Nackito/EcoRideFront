<div class="container mt-4 mb-5 vehicle-management mobile-friendly">
  <!-- Header avec bouton retour -->
  <div class="d-flex align-items-center mb-3 mb-md-4">
    <a href="/account" class="text-decoration-none text-dark me-3">
      <i class="bi bi-arrow-left fs-4"></i>
    </a>
    <a href="/account" class="text-decoration-none text-dark">
      <h4 class="mb-0 fs-5 fw-bold text-primary d-block d-md-none">
        Mes véhicules
      </h4>
      <h2 class="mb-0 fs-3 fw-bold text-primary d-none d-md-block">
        Gestion des véhicules
      </h2>
    </a>
  </div>

  <!-- Bouton d'ajout de véhicule -->
  <div class="mb-4">
    <button class="btn btn-success w-100 w-md-auto" id="addVehicleBtn">
      <i class="bi bi-plus-circle me-2"></i>
      <span class="d-none d-md-inline">Ajouter un véhicule</span>
      <span class="d-inline d-md-none">Ajouter</span>
    </button>
  </div>

  <!-- Liste des véhicules existants -->
  <div id="vehiclesList"></div>
</div>

<!-- Modal d'ajout/modification de véhicule -->
<div
  class="modal fade"
  id="vehicleModal"
  tabindex="-1"
  aria-labelledby="vehicleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content rounded-4">
      <div class="modal-header border-0 pb-0">
        <h5 class="modal-title fw-bold text-primary" id="vehicleModalLabel">
          Ajouter un véhicule
        </h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body p-4">
        <form id="vehicleForm">
          <input type="hidden" id="vehicleId" value="" />

          <!-- Marque -->
          <div class="mb-3">
            <label for="brand" class="form-label fw-semibold"
              >Marque <span class="text-danger">*</span></label
            >
            <input
              type="text"
              class="form-control"
              id="brand"
              placeholder="Ex: Tesla, Renault, Peugeot..."
              required
            />
          </div>

          <!-- Modèle -->
          <div class="mb-3">
            <label for="model" class="form-label fw-semibold"
              >Modèle <span class="text-danger">*</span></label
            >
            <input
              type="text"
              class="form-control"
              id="model"
              placeholder="Ex: Model 3, Clio, 208..."
              required
            />
          </div>

          <!-- Année et Type -->
          <div class="row mb-3">
            <div class="col-6">
              <label for="year" class="form-label fw-semibold"
                >Année <span class="text-danger">*</span></label
              >
              <select class="form-select" id="year" required>
                <option value="">Choisir...</option>
                <option value="2024">2024</option>
                <option value="2023">2023</option>
                <option value="2022">2022</option>
                <option value="2021">2021</option>
                <option value="2020">2020</option>
                <option value="2019">2019</option>
                <option value="2018">2018</option>
                <option value="2017">2017</option>
                <option value="2016">2016</option>
                <option value="2015">2015</option>
              </select>
            </div>
            <div class="col-6">
              <label for="fuelType" class="form-label fw-semibold"
                >Type <span class="text-danger">*</span></label
              >
              <select class="form-select" id="fuelType" required>
                <option value="">Choisir...</option>
                <option value="electric">Électrique</option>
                <option value="hybrid">Hybride</option>
                <option value="petrol">Essence</option>
                <option value="diesel">Diesel</option>
                <option value="gas">GPL</option>
              </select>
            </div>
          </div>

          <!-- Nombre de places -->
          <div class="mb-3">
            <label for="seats" class="form-label fw-semibold"
              >Nombre de places disponibles
              <span class="text-danger">*</span></label
            >
            <select class="form-select" id="seats" required>
              <option value="">Choisir...</option>
              <option value="1">1 place</option>
              <option value="2">2 places</option>
              <option value="3">3 places</option>
              <option value="4">4 places</option>
              <option value="5">5 places</option>
              <option value="6">6 places</option>
              <option value="7">7 places</option>
              <option value="8">8 places</option>
            </select>
            <small class="text-muted"
              >Nombre de passagers que vous pouvez transporter (sans compter le
              conducteur)</small
            >
          </div>

          <!-- Couleur -->
          <div class="mb-3">
            <label for="color" class="form-label fw-semibold">Couleur</label>
            <input
              type="text"
              class="form-control"
              id="color"
              placeholder="Ex: Blanc, Noir, Rouge..."
            />
          </div>

          <!-- Immatriculation -->
          <div class="mb-3">
            <label for="license" class="form-label fw-semibold"
              >Immatriculation</label
            >
            <input
              type="text"
              class="form-control"
              id="license"
              placeholder="Ex: AB-123-CD"
            />
            <small class="text-muted"
              >Cette information ne sera pas visible publiquement</small
            >
          </div>

          <!-- Description -->
          <div class="mb-3">
            <label for="description" class="form-label fw-semibold"
              >Description</label
            >
            <textarea
              class="form-control"
              id="description"
              rows="3"
              placeholder="Informations supplémentaires sur votre véhicule..."
            ></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer border-0 pt-0">
        <button
          type="button"
          class="btn btn-outline-secondary"
          data-bs-dismiss="modal"
        >
          Annuler
        </button>
        <button
          type="button"
          class="btn btn-primary"
          id="saveVehicleBtn"
          onclick="saveVehicle()"
        >
          <i class="bi bi-check-lg me-2"></i>Sauvegarder
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal de confirmation de suppression -->
<div
  class="modal fade"
  id="deleteModal"
  tabindex="-1"
  aria-labelledby="deleteModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered modal-sm">
    <div class="modal-content rounded-4">
      <div class="modal-header border-0 pb-0">
        <h5 class="modal-title fw-bold text-danger" id="deleteModalLabel">
          Supprimer le véhicule
        </h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body p-4">
        <p>Êtes-vous sûr de vouloir supprimer ce véhicule ?</p>
        <p class="text-muted small">Cette action est irréversible.</p>
      </div>
      <div class="modal-footer border-0 pt-0">
        <button
          type="button"
          class="btn btn-outline-secondary"
          data-bs-dismiss="modal"
        >
          Annuler
        </button>
        <button type="button" class="btn btn-danger" onclick="confirmDelete()">
          <i class="bi bi-trash me-2"></i>Supprimer
        </button>
      </div>
    </div>
  </div>
</div>

<!-- La logique est gérée par js/profil/vehiclemanagement.js -->
